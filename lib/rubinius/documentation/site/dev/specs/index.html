<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rubinius Documentation - Specs</title>
    <link rel="stylesheet" type="text/css" href="/stylesheet.css" media="screen">
    <meta name="generator" content="nanoc 3.1.5">
  </head>
  <body>
    <div id="main">
      <h1 id="specs">Specs</h1>

<p>The Rubinius project generally uses TDD/BDD-style executable specifications to
drive development. The Rubinius &lsquo;spec&rsquo; directory is conceptually divided into
two parts:</p>

<ol>
  <li>All the files under &lsquo;./spec/ruby&rsquo; that describe the behavior of MatzRuby.</li>
  <li>And all the other files under the &lsquo;./spec&rsquo; directory that describe the
behavior of Rubinius.</li>
</ol>

<p>The specs at ./spec/ruby are a copy of RubySpec at a particular revision.
These are regularly imported from the RubySpec project and failing specs are
tagged so that the CI process always runs a known good set of specs. This
enables easily confirming that changes to Rubinius code do not cause
regressions.</p>

<p>Documentation about the organization of specs and guidelines for writing specs
can be found at the <a href="http://rubyspec.org/wiki/rubyspec/">RubySpec project</a>.</p>

<p>Use the following workflow when adding specs and code to Rubinius:</p>

<ol>
  <li>Write failing specs for some aspect of Ruby behavior. Commit the specs in
a separate commit to the appropriate files under ./spec/ruby.</li>
  <li>Add Rubinius code to make the specs pass. Again, commit these changes in
a separate commit from the spec changes.</li>
  <li>Run the &lsquo;rake&rsquo; command to ensure that all the CI specs pass.</li>
</ol>

<p>The changes to files in ./spec/ruby are regularly pushed to the RubySpec
project. Also, current changes to RubySpec from committers to other Ruby
implementations are regularly updated in the ./spec/ruby directories. When the
specs are updated from RubySpec, the CI tags are also updated.</p>

    </div>

    <div id="sidebar">
      <h2>Table of Contents</h2>
      <ul>
<li><a href="/">What is Rubinius</a></li>
<li><a href="/getting_started/">Getting Started</a></li>
<li><a href="/common_problems/">Common Problems</a></li>
<li><a href="/contributing/">Contributing</a></li>
</ul>
<h3>Tools</h3>
<ul>
<li><a href="/tools/profiler/">Profiler</a></li>
<li><a href="/tools/debugger/">Debugger</a></li>
</ul>
<h3>Developing</h3>
<ul>
<li><span class="active" title="You're here.">Specs</span></li>
<li><a href="/dev/build_system/">Build System</a></li>
<li><a href="/dev/bootstrapping/">Bootstrapping</a></li>
<li><a href="/dev/compiler/">Bytecode Compiler</a></li>
<li><a href="/dev/style_guide/">Style Guide</a></li>
<li><a href="/dev/reading_list/">Reading List</a></li>
<li><a href="/glossary/">Glossary</a></li>
</ul>
<h3>Howto</h3>
<ul>
<li><a href="/howto/write_a_ticket/">Write a Ticket</a></li>
<li><a href="/howto/write_a_ruby_spec/">Write a Ruby spec</a></li>
<li><a href="/howto/fix_a_failing_spec/">Fix a Failing Spec</a></li>
</ul>

    </div>
  </body>
</html>
